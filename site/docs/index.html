<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>campfire.js</title><meta name="description" content="Documentation for campfire.js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script async src="assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">campfire.js</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> campfire.js</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#campfire" id="campfire" style="color: inherit; text-decoration: none;">
  <h1>campfire</h1>
</a>
<p>a cozy web framework</p>
<p align='center'>
    <img src='campfire.png' alt='campfire logo' width=256 height=256>
</p>

<p>Campfire is a collection of small utilities to make developing with vanilla JS
easy.</p>
<p>It is kept lightweight on purpose, aiming to provide the bare minimum necessary
to make development easier.</p>

<a href="#features" id="features" style="color: inherit; text-decoration: none;">
  <h3>Features</h3>
</a>
<ul>
<li>Small size (~2kb gzipped!)</li>
<li>Easy to get started with (just one import statement away!)</li>
<li>Reactive data using a publish-subscribe model</li>
<li>String templating functionality using mustaches</li>
</ul>

<a href="#building" id="building" style="color: inherit; text-decoration: none;">
  <h3>Building</h3>
</a>
<pre><code class="language-sh"><span class="hl-0">$ npm run build</span>
</code></pre>
<p>Then you can use <code>dist/campfire.min.js</code> and <code>dist/campfire.d.ts</code>.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h3>Usage</h3>
</a>
<p>You can use it directly in a JS file intended for the browser, either from
<a href="https://esm.sh/campfire.js">esm.sh</a> or
<a href="https://unpkg.com/campfire.js@latest/dist/campfire.esm.min.js">unpkg</a>, or
self-host it:</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> cf </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">https://esm.sh/campfire.js</span><span class="hl-2">&quot;</span><span class="hl-4">;</span>
</code></pre>
<p>or install it with npm (<code>npm i campfire.js</code>) and use it in your existing
workflow:</p>
<pre><code class="language-js"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">cf</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-7">require</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">campfire.js</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span>
</code></pre>
<p>All the methods and classes are also exported, so you can do named imports as
usual:</p>
<pre><code class="language-js"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-6">nu</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-6">ListStore</span><span class="hl-0"> </span><span class="hl-4">}</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-7">require</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">campfire.js</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span>
</code></pre>
<p>or</p>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-9"> </span><span class="hl-0">ListStore</span><span class="hl-8">,</span><span class="hl-9"> </span><span class="hl-0">nu</span><span class="hl-9"> </span><span class="hl-4">}</span><span class="hl-0"> </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">https://esm.sh/campfire.js</span><span class="hl-2">&quot;</span><span class="hl-4">;</span>
</code></pre>

<a href="#quick-reference" id="quick-reference" style="color: inherit; text-decoration: none;">
  <h3>Quick reference</h3>
</a>
<p>The API reference can be found
<a href="https://xyzshantaram.github.io/campfire/?tab=docs">here</a>.</p>

<a href="#methods" id="methods" style="color: inherit; text-decoration: none;">
  <h4>Methods</h4>
</a>

<a href="#nu---element-creation-helper" id="nu---element-creation-helper" style="color: inherit; text-decoration: none;">
  <h4><code>nu</code> - element creation helper</h4>
</a>
<pre><code class="language-js"><span class="hl-10">// A button that keeps track of how many times it&#39;s been clicked</span><br/><span class="hl-5">let</span><span class="hl-0"> count </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-11">0</span><span class="hl-4">;</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">btn</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">nu</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">button#id.class1.class2</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-4">{</span><br/><span class="hl-0">  </span><span class="hl-9">contents</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">I have not been clicked.</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-10">// escaped by default</span><br/><span class="hl-0">  </span><span class="hl-9">attrs</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-10">// DOM attributes</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;</span><span class="hl-13">data-an-attribute</span><span class="hl-2">&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-11">42</span><span class="hl-8">,</span><br/><span class="hl-0">  </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-0">  </span><span class="hl-9">on</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-10">// event handlers, assigned using addEventListener</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;</span><span class="hl-13">click</span><span class="hl-2">&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-5">function</span><span class="hl-0"> </span><span class="hl-4">(</span><span class="hl-0">e</span><span class="hl-4">)</span><span class="hl-0"> </span><span class="hl-4">{</span><br/><span class="hl-9">      </span><span class="hl-14">this</span><span class="hl-4">.</span><span class="hl-0">innerHTML</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-2">`</span><span class="hl-3">I have been clicked </span><span class="hl-1">${</span><span class="hl-1">++</span><span class="hl-0">count</span><span class="hl-1">}</span><span class="hl-3"> times.</span><span class="hl-2">`</span><span class="hl-4">;</span><br/><span class="hl-9">    </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-0">  </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-0">  </span><span class="hl-9">style</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-10">// Uses property names as specified in CSSStyleDeclaration.</span><br/><span class="hl-0">    </span><span class="hl-9">background</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">#007cdf</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">    </span><span class="hl-9">borderRadius</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">0.25em</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">    </span><span class="hl-9">margin</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">0.5rem</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">    </span><span class="hl-9">color</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">#f5f4f0</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">    </span><span class="hl-9">transitionDuration</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">0.2s</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">    </span><span class="hl-9">border</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">2px solid black</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">  </span><span class="hl-4">}</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-10">// styles</span><br/><span class="hl-0">  </span><span class="hl-9">misc</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-10">// miscellaneous properties</span><br/><span class="hl-0">    </span><span class="hl-9">type</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">button</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">  </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-4">}</span><span class="hl-0">)</span><span class="hl-4">;</span>
</code></pre>

<a href="#mustache---string-templating-with-mustaches" id="mustache---string-templating-with-mustaches" style="color: inherit; text-decoration: none;">
  <h4><code>mustache</code> - string templating with mustaches</h4>
</a>
<p>Just like nu&#39;s content argument, mustache escapes text by default.</p>
<pre><code class="language-js"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">result</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">mustache</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">Welcome to Mars, {{ name }}.</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-9">name</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">user</span><span class="hl-2">&quot;</span><span class="hl-0"> </span><span class="hl-4">}</span><span class="hl-0">)</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// &quot;Welcome to Mars, user.&quot;</span>
</code></pre>

<a href="#template---templating-helper" id="template---templating-helper" style="color: inherit; text-decoration: none;">
  <h4><code>template</code> - templating helper</h4>
</a>
<pre><code class="language-js"><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">marsTemplate</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">template</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">Welcome to Mars, {{ name }}.</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// returns a function</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">result</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-7">marsTemplate</span><span class="hl-0">(</span><span class="hl-4">{</span><span class="hl-0"> </span><span class="hl-9">name</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">user</span><span class="hl-2">&quot;</span><span class="hl-0"> </span><span class="hl-4">}</span><span class="hl-0">)</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// &quot;Welcome to Mars, user.&quot;</span>
</code></pre>

<a href="#escape---html-entity-escaper" id="escape---html-entity-escaper" style="color: inherit; text-decoration: none;">
  <h4><code>escape</code> - HTML entity escaper</h4>
</a>
<p>A function to perform basic escaping of HTML entities. <code>escape</code> will replace
<code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&#39;</code>, and <code>&quot;</code> with their corresponding HTML escapes (<code>&amp;amp;</code>,
<code>&amp;gt;</code>, <code>&amp;lt;</code>, <code>&amp;#39;</code>, and <code>&amp;quot</code>).</p>
<p><em><strong>Note</strong></em>: No characters other than the ones mentioned above are escaped.
<code>escape</code> is only provided for basic protection against XSS and if you need more
robust functionality consider using another HTML escaper (such as
<a href="https://github.com/mathiasbynens/he">he</a> or
<a href="https://github.com/apostrophecms/sanitize-html/">sanitize-html</a>).</p>

<a href="#unescape---character-reference-unescaper" id="unescape---character-reference-unescaper" style="color: inherit; text-decoration: none;">
  <h4><code>unescape</code> - character reference unescaper</h4>
</a>
<p>A function to perform the reverse operation of <code>escape</code>. It will convert
character references generated by <code>escape</code> into their corresponding characters.
<em><strong>Note</strong></em>: No other references other than the ones generated by escape are
replaced!</p>

<a href="#classes" id="classes" style="color: inherit; text-decoration: none;">
  <h4>Classes</h4>
</a>

<a href="#store---reactive-data-store" id="store---reactive-data-store" style="color: inherit; text-decoration: none;">
  <h4><code>Store</code> - reactive data store</h4>
</a>
<pre><code class="language-js"><span class="hl-10">// What is six by nine?</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">store</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">Store</span><span class="hl-0">(</span><span class="hl-11">0</span><span class="hl-0">)</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// initial value</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">question</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-6">store</span><span class="hl-12">.</span><span class="hl-7">on</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">update</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-4">(</span><span class="hl-0">val</span><span class="hl-4">)</span><span class="hl-0"> </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">{</span><span class="hl-9"> </span><span class="hl-10">// this function is called every time the value is changed</span><br/><span class="hl-9">  </span><span class="hl-1">if</span><span class="hl-9"> (</span><span class="hl-0">val</span><span class="hl-9"> </span><span class="hl-1">==</span><span class="hl-9"> </span><span class="hl-11">42</span><span class="hl-9">) </span><span class="hl-4">{</span><br/><span class="hl-9">    </span><span class="hl-6">console</span><span class="hl-12">.</span><span class="hl-7">log</span><span class="hl-9">(</span><span class="hl-2">&quot;</span><span class="hl-3">That&#39;s the right answer!</span><span class="hl-2">&quot;</span><span class="hl-9">)</span><span class="hl-4">;</span><br/><span class="hl-9">  </span><span class="hl-4">}</span><span class="hl-9"> </span><span class="hl-1">else</span><span class="hl-9"> </span><span class="hl-4">{</span><br/><span class="hl-9">    </span><span class="hl-6">console</span><span class="hl-12">.</span><span class="hl-7">log</span><span class="hl-9">(</span><span class="hl-2">&quot;</span><span class="hl-3">Hmmm. Try again.</span><span class="hl-2">&quot;</span><span class="hl-9">)</span><span class="hl-4">;</span><br/><span class="hl-9">  </span><span class="hl-4">}</span><br/><span class="hl-4">}</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-15">false</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><span class="hl-10">/* The last argument specifies whether or not the callback should be called right now with the current value of the store. */</span><br/><br/><span class="hl-6">store</span><span class="hl-12">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-11">3</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><span class="hl-6">store</span><span class="hl-12">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-11">42</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">store</span><span class="hl-12">.</span><span class="hl-7">unsubscribe</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">update</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> question)</span><span class="hl-4">;</span><br/><span class="hl-6">store</span><span class="hl-12">.</span><span class="hl-7">dispose</span><span class="hl-0">()</span><span class="hl-4">;</span><br/><span class="hl-6">store</span><span class="hl-12">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-11">42</span><span class="hl-0">)</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// does nothing since the store is disposed of</span>
</code></pre>

<a href="#liststore---reactive-list-store" id="liststore---reactive-list-store" style="color: inherit; text-decoration: none;">
  <h4><code>ListStore</code> - Reactive list store</h4>
</a>
<pre><code class="language-js"><span class="hl-10">// An app to keep track of your homework</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">homework</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-1">new</span><span class="hl-0"> </span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">ListStore</span><span class="hl-0">([])</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// create a new store</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">list</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-6">document</span><span class="hl-12">.</span><span class="hl-6">body</span><span class="hl-12">.</span><span class="hl-7">appendChild</span><span class="hl-0">(</span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">nu</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">div</span><span class="hl-2">&quot;</span><span class="hl-0">))</span><span class="hl-4">;</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-16">getIdx</span><span class="hl-0"> </span><span class="hl-1">=</span><span class="hl-0"> </span><span class="hl-4">(</span><span class="hl-0">elem</span><span class="hl-4">)</span><span class="hl-0"> </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-7">parseInt</span><span class="hl-0">(</span><span class="hl-6">elem</span><span class="hl-12">.</span><span class="hl-7">getAttribute</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">data-idx</span><span class="hl-2">&quot;</span><span class="hl-0">))</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// helper function</span><br/><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">on</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">refresh</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-5">function</span><span class="hl-0"> </span><span class="hl-4">()</span><span class="hl-0"> </span><span class="hl-4">{</span><br/><span class="hl-9">  </span><span class="hl-1">if</span><span class="hl-9"> (</span><span class="hl-6">homework</span><span class="hl-4">.</span><span class="hl-6">length</span><span class="hl-9"> </span><span class="hl-1">==</span><span class="hl-9"> </span><span class="hl-11">0</span><span class="hl-9">) </span><span class="hl-6">list</span><span class="hl-4">.</span><span class="hl-0">innerHTML</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-2">&quot;</span><span class="hl-3">yay! no items!</span><span class="hl-2">&quot;</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-15">false</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">on</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">push</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-5">function</span><span class="hl-0"> </span><span class="hl-4">(</span><span class="hl-0">val</span><span class="hl-4">)</span><span class="hl-0"> </span><span class="hl-4">{</span><br/><span class="hl-9">  </span><span class="hl-1">if</span><span class="hl-9"> (</span><span class="hl-6">homework</span><span class="hl-4">.</span><span class="hl-6">length</span><span class="hl-9"> </span><span class="hl-1">===</span><span class="hl-9"> </span><span class="hl-11">1</span><span class="hl-9">) </span><span class="hl-6">list</span><span class="hl-4">.</span><span class="hl-0">innerHTML</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-2">&quot;&quot;</span><span class="hl-4">;</span><br/><span class="hl-9">  </span><span class="hl-6">list</span><span class="hl-12">.</span><span class="hl-7">appendChild</span><span class="hl-9">(</span><span class="hl-6">cf</span><span class="hl-12">.</span><span class="hl-7">nu</span><span class="hl-9">(</span><span class="hl-2">&quot;</span><span class="hl-3">div</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-9"> </span><span class="hl-4">{</span><br/><span class="hl-9">    contents</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-6">val</span><span class="hl-4">.</span><span class="hl-0">value</span><span class="hl-8">,</span><br/><span class="hl-9">    attrs</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-4">{</span><span class="hl-9"> </span><span class="hl-2">&quot;</span><span class="hl-13">data-idx</span><span class="hl-2">&quot;</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-6">homework</span><span class="hl-4">.</span><span class="hl-6">length</span><span class="hl-9"> </span><span class="hl-1">-</span><span class="hl-9"> </span><span class="hl-11">1</span><span class="hl-9"> </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-9">    on</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-4">{</span><span class="hl-9"> </span><span class="hl-7">click</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-4">(</span><span class="hl-0">e</span><span class="hl-4">)</span><span class="hl-9"> </span><span class="hl-5">=&gt;</span><span class="hl-9"> </span><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">remove</span><span class="hl-9">(</span><span class="hl-7">getIdx</span><span class="hl-9">(</span><span class="hl-6">e</span><span class="hl-4">.</span><span class="hl-0">target</span><span class="hl-9">)) </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-9">    style</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-4">{</span><span class="hl-9"> cursor</span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-2">&quot;</span><span class="hl-3">pointer</span><span class="hl-2">&quot;</span><span class="hl-9"> </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-9">  </span><span class="hl-4">}</span><span class="hl-9">))</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">on</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">remove</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-5">function</span><span class="hl-0"> </span><span class="hl-4">(</span><span class="hl-0">val</span><span class="hl-4">)</span><span class="hl-0"> </span><span class="hl-4">{</span><br/><span class="hl-9">  </span><span class="hl-17">Array</span><span class="hl-12">.</span><span class="hl-7">from</span><span class="hl-9">(</span><span class="hl-6">list</span><span class="hl-12">.</span><span class="hl-7">querySelectorAll</span><span class="hl-9">(</span><span class="hl-2">`</span><span class="hl-3">div:nth-child(n+</span><span class="hl-1">${</span><span class="hl-6">val</span><span class="hl-4">.</span><span class="hl-0">idx </span><span class="hl-1">+</span><span class="hl-0"> </span><span class="hl-11">1</span><span class="hl-1">}</span><span class="hl-3">)</span><span class="hl-2">`</span><span class="hl-9">))</span><span class="hl-12">.</span><span class="hl-7">forEach</span><span class="hl-9">(</span><br/><span class="hl-9">    </span><span class="hl-4">(</span><span class="hl-0">elem</span><span class="hl-8">,</span><span class="hl-9"> </span><span class="hl-0">i</span><span class="hl-4">)</span><span class="hl-9"> </span><span class="hl-5">=&gt;</span><span class="hl-9"> </span><span class="hl-4">{</span><br/><span class="hl-9">      </span><span class="hl-6">elem</span><span class="hl-12">.</span><span class="hl-7">setAttribute</span><span class="hl-9">(</span><span class="hl-2">&quot;</span><span class="hl-3">data-idx</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><span class="hl-9"> </span><span class="hl-7">getIdx</span><span class="hl-9">(</span><span class="hl-0">elem</span><span class="hl-9">) </span><span class="hl-1">-</span><span class="hl-9"> </span><span class="hl-11">1</span><span class="hl-9">)</span><span class="hl-4">;</span><br/><span class="hl-9">    </span><span class="hl-4">}</span><span class="hl-8">,</span><br/><span class="hl-9">  )</span><span class="hl-4">;</span><br/><span class="hl-9">  </span><span class="hl-6">list</span><span class="hl-12">.</span><span class="hl-7">removeChild</span><span class="hl-9">(</span><span class="hl-6">list</span><span class="hl-12">.</span><span class="hl-7">querySelector</span><span class="hl-9">(</span><span class="hl-2">`</span><span class="hl-3">div:nth-child(</span><span class="hl-1">${</span><span class="hl-6">val</span><span class="hl-4">.</span><span class="hl-0">idx </span><span class="hl-1">+</span><span class="hl-0"> </span><span class="hl-11">1</span><span class="hl-1">}</span><span class="hl-3">)</span><span class="hl-2">`</span><span class="hl-9">))</span><span class="hl-4">;</span><br/><span class="hl-9">  </span><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">refresh</span><span class="hl-9">()</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">push</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">English assignment</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">push</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">Math assignment</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">push</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">French assignment</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">setAt</span><span class="hl-0">(</span><span class="hl-11">1</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">Math test</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">console</span><span class="hl-12">.</span><span class="hl-7">log</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;</span><span class="hl-3">Homework:</span><span class="hl-2">&quot;</span><span class="hl-8">,</span><br/><span class="hl-0">  [</span><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">get</span><span class="hl-0">(</span><span class="hl-11">0</span><span class="hl-0">)</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">get</span><span class="hl-0">(</span><span class="hl-11">1</span><span class="hl-0">)</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">get</span><span class="hl-0">(</span><span class="hl-11">2</span><span class="hl-0">)]</span><span class="hl-12">.</span><span class="hl-7">join</span><span class="hl-0">(</span><span class="hl-2">&quot;</span><span class="hl-3">, </span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-8">,</span><br/><span class="hl-0">)</span><span class="hl-4">;</span><br/><br/><span class="hl-6">homework</span><span class="hl-12">.</span><span class="hl-7">setAt</span><span class="hl-0">(</span><span class="hl-11">3</span><span class="hl-8">,</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">test</span><span class="hl-2">&quot;</span><span class="hl-0">)</span><span class="hl-4">;</span><span class="hl-0"> </span><span class="hl-10">// errors out</span>
</code></pre>

<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
  <h3>Contributing</h3>
</a>
<p>Fork the repo and make a pull request, or open an issue on the issues page.</p>

<a href="#donate" id="donate" style="color: inherit; text-decoration: none;">
  <h3>Donate</h3>
</a>
<p>If you like using Campfire, you can donate to Campfire development using one of
the means listed <a href="https://shantaram.xyz/contact/donate.html">here</a>.</p>

<a href="#acknowledgements" id="acknowledgements" style="color: inherit; text-decoration: none;">
  <h3>Acknowledgements</h3>
</a>
<p>Icon made by <a href="https://www.flaticon.com/authors/those-icons">Those Icons</a> from
<a href="https://www.flaticon.com/">Flaticon</a></p>
<p>The <a href="https://github.com/lodash/lodash/blob/master/unescape.js">unescape</a>
function and
<a href="https://github.com/lodash/lodash/blob/master/test/unescape.js">unit tests for it</a>
and <a href="https://github.com/lodash/lodash/blob/master/test/escape.test.js">escape</a>
are derived from lodash under the terms of the MIT License. Code in lodash is a
copyright of JS Foundation and other contributors <a href="https://js.foundation/">https://js.foundation/</a>.
Lodash itself is based on Underscore.js, copyright Jeremy Ashkenas,
DocumentCloud and Investigative Reporters &amp; Editors <a href="http://underscorejs.org/">http://underscorejs.org/</a></p>
<p>Docs for Campfire are built with <a href="https://typedoc.org">TypeDoc</a>.</p>
<p>The Campfire website uses the <a href="https://www.npmjs.com/package/toml">toml</a> and
<a href="https://marked.js.org/">Marked.js</a> libraries under the MIT License to display
its content.</p>
<p>Syntax highlighting on the Campfire website is achieved with
<a href="https://asvd.github.io/microlight/">Microlight</a>. Microlight is a copyright of
<a href="https://github.com/asvd">asvd</a> and is used under the
<a href="https://github.com/asvd/microlight/blob/master/LICENSE">MIT License</a>.</p>
<p>The Campfire playground uses the <a href="https://github.com/ajaxorg/ace/">Ace editor</a>
as an embedded editor. The Ace editor is a copyright of Ajax.org B.V. and is
used under the
<a href="https://github.com/ajaxorg/ace/blob/master/LICENSE">3-clause BSD license</a>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/campfire.html">campfire</a></li><li class=" tsd-kind-module"><a href="modules/types.html">types</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>