var f=Object.defineProperty;var R=s=>f(s,"__esModule",{value:!0});var q=(s,e)=>{R(s);for(var t in e)f(s,t,{get:e[t],enumerable:!0})};q(exports,{ListStore:()=>d,Store:()=>c,default:()=>z,empty:()=>A,escape:()=>u,extend:()=>h,insert:()=>p,mustache:()=>b,nu:()=>g,onload:()=>m,rm:()=>O,select:()=>E,selectAll:()=>j,template:()=>v,unescape:()=>_});var L=s=>{var e;let t=s?s.match(/([0-9a-zA-Z\-]*)?(#[0-9a-zA-Z\-]*)?((.[0-9a-zA-Z\-]+)*)/):void 0,r=t?(e=t.slice(1,4))===null||e===void 0?void 0:e.map(n=>n?n.trim():void 0):Array(3).fill(void 0);return r&&r[1]&&(r[1]=r[1].replace(/#*/g,"")),t?{tag:r[0]||void 0,id:r[1]||void 0,classes:r[2]?r[2].split(".").filter(n=>n.trim()):void 0}:{}},h=(s,e={})=>{let{contents:t,c:r,misc:n,m:i,style:a,s:C,on:w,attrs:x,a:k,raw:y}=e;return t=t||r||"",t=y?t:u(t),s.innerHTML=t,Object.assign(s,n||i),Object.assign(s.style,a||C),Object.entries(w||{}).forEach(([o,l])=>s.addEventListener(o,l)),Object.entries(x||k||{}).forEach(([o,l])=>s.setAttribute(o,l)),s},g=(s,e={})=>{let{tag:t,id:r,classes:n}=L(s);t||(t="div");let i=document.createElement(t);return r&&(i.id=r),(n||[]).forEach(a=>i.classList.add(a)),h(i,e)},p=(s,e)=>{if(Object.keys(e).length!==1)throw new Error("Too many or too few positions specified.");let r=Object.values(e)[0],n="afterend";return e.after?n="afterend":e.before?n="beforebegin":e.prependTo?n="afterbegin":e.appendTo&&(n="beforeend"),r.insertAdjacentElement(n,s),s},c=class{constructor(e){this.value=null,this._subscribers={},this._subscriberCounts={},this._dead=!1,this.value=e}on(e,t,r=!1){return this._subscriberCounts[e]=this._subscriberCounts[e]||0,this._subscribers[e]=this._subscribers[e]||{},this._subscribers[e][this._subscriberCounts[e]]=t,r&&!["push","remove","mutation","setAt"].includes(e)&&t(this.value),this._subscriberCounts[e]++}unsubscribe(e,t){delete this._subscribers[e][t]}update(e){this._dead||(this.value=e,this._sendEvent("update",e))}refresh(){this._sendEvent("refresh",this.value)}_sendEvent(e,t){if(!this._dead){this._subscribers[e]=this._subscribers[e]||{};for(let r in Object.keys(this._subscribers[e]))this._subscribers[e][r](t)}}dispose(){this._dead=!0,this._subscribers={},this._subscriberCounts={}}},d=class extends c{constructor(e){super(e)}clear(){this.update([])}push(e){this.value.push(e),this._sendEvent("push",{value:e,idx:this.value.length-1})}remove(e){if(e<0||e>=this.value.length)throw new RangeError("Invalid index.");this._sendEvent("remove",{value:this.value.splice(e,1)[0],idx:e})}get(e){if(e<0||e>this.value.length)throw new RangeError("Invalid index.");return this.value instanceof Array&&this.value[e]}setAt(e,t){if(e<0||e>=this.value.length)throw new RangeError("Invalid index.");this.value[e]=t,this._sendEvent("mutation",{value:t,idx:e})}get length(){return this.value.length}},T=(s,e={})=>{let t=new RegExp("\\\\({{\\s*"+Object.keys(e).join("|")+"\\s*}})","gi");return new RegExp(Object.keys(e).join("|"),"gi"),s.replace(new RegExp("(^|[^\\\\]){{\\s*("+Object.keys(e).join("|")+")\\s*}}","gi"),function(r,n,i){return`${n||""}${e[i]}`}).replace(t,"$1")},b=(s,e={},t=!0)=>{let r=Object.assign({},e);return t&&(r=Object.fromEntries(Object.entries(r).map(([n,i])=>[n,u(i)]))),T(s,r)},v=(s,e=!0)=>t=>b(s,t,e),u=s=>s?s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):"",_=s=>{if(!s)return"";let e=/&(?:amp|lt|gt|quot|#(0+)?39);/g,t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return s.replace(e,r=>t[r]||"'")},m=s=>globalThis.addEventListener("DOMContentLoaded",s),E=(s,e=document)=>e.querySelector(s),j=(s,e=document)=>Array.from(e.querySelectorAll(s)),O=s=>s.remove(),A=s=>{for(;s.lastChild;)s.removeChild(s.lastChild)},z={Store:c,ListStore:d,nu:g,mustache:b,template:v,escape:u,unescape:_,extend:h,insert:p,empty:A,rm:O,selectAll:j,select:E,onload:m};
